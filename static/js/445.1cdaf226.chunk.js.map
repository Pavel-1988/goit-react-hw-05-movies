{"version":3,"file":"static/js/445.1cdaf226.chunk.js","mappings":"mQAEaA,EAAQC,EAAAA,GAAAA,MAAH,2X,GAoBOA,EAAAA,GAAAA,MAAH,yW,QCXP,SAASC,IAAW,IAAD,IAE1BC,GAAWC,EAAAA,EAAAA,MAEjB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEA,GAA0BL,EAAAA,EAAAA,UAAQ,UAACI,EAAaE,IAAI,gBAAlB,QAA6B,IAA/D,eAAOC,EAAP,KAAcC,EAAd,KAIQC,EAAK,UAAGL,EAAaE,IAAI,gBAApB,QAAgC,IA2B7CI,EAAAA,EAAAA,YAAU,WACFD,GAGNE,MAAM,2GAAD,OACwGF,EADxG,gCAGJG,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,2BACjC,IACAN,MAAK,SAAAO,GACJ,OAAsB,IAAlBA,EAAMC,QACDC,MACL,wDAGGnB,GAAU,OAAIiB,EAAMC,SAC5B,IACFE,OAAM,SAAAC,GACH,OAAOF,MAAME,EAAMC,QACpB,GACJ,GAAE,CAACf,IA+BJ,OACE,UAAC,KAAD,YACE,kBAAOgB,SAtEU,SAAAC,GAEjB,GADFA,EAAEC,iBACc,KAAVpB,EACF,OAAOc,MACL,yCAIJhB,EAAgB,CAAEI,MAAMF,GAE3B,EA4DG,WACC,SAACZ,EAAD,CACGY,MAAOA,EACPqB,SATkB,SAAAF,GACxBlB,EAAUkB,EAAEG,OAAOtB,MACpB,EAQOuB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mBAGd,2CAEF,SAAC,KAAD,UACGhC,EAAOiC,KACN,YAAqE,IAAlEC,EAAiE,EAAjEA,YAAaC,EAAoD,EAApDA,GAAIC,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,eACvCC,EAAO,IAAIC,KAAKH,GAAcI,cAC9BC,EAAQ,IAAIF,KAAKF,GAAgBG,cACvC,OACE,SAAC,KAAD,WACE,UAAC,KAAD,CAAYE,GAAE,UAAKT,GAAMU,MAAO,CAAEC,KAAMjD,GAAxC,WACE,gBACEkD,IACEb,EAAW,uDACyCA,GAChD,iFAENc,IAAG,OAAEZ,QAAF,IAAEA,EAAAA,EAASC,KAEhB,iCACGA,QADH,IACGA,EAAAA,EAAQD,EADX,KACoBI,GAAQG,EAD5B,WAVYR,EAgBnB,OAGJ,SAAC,EAAAc,SAAD,WAAU,SAAC,KAAD,QAKhB,C","sources":["Pages/movies/Movies.styled.js","Pages/movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Input = styled.input`\n  width: 250px;\n  height: 20px;\n  font-size: 15px;\n  margin-right: 3px;\n  border-radius: 4px;\n  &:focus-within {\n    outline-color: orangered !important;\n  }\n  &:focus-visible {\n    outline-color: orangered !important;\n  }\n  &:focus {\n    outline-color: orangered !important;\n  }\n  &:active {\n    outline-color: orangered !important;\n  }\n`;\n\nexport const SearchBtn = styled.input`\n  padding: 4px 8px;\n  background-color: orangered;\n  color: white;\n  border-radius: 4px;\n  border-color: orangered;\n  margin-left: 5px;\n  font-weight: bold;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n`;","import { useState, useEffect, Suspense } from 'react';\n// import { useForm } from 'react-hook-form';\nimport { Outlet, useSearchParams, useLocation } from 'react-router-dom';\n// import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Container,MovieList, MovieItem, MovieLink } from '../home/Home.styled';\nimport { Input } from './Movies.styled';\n\n// import defaultImg from '../../default.png'\n\n\nexport default function Movies()  {\n\n  const location = useLocation();\n\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [value, setValue] = useState(searchParams.get('query')?? '')\n  \n  // const filter = searchParams.get('filter') ?? '';\n\n    const query = searchParams.get('query') ?? '';\n\n\n \n  // const handleSubmit = e => {\n  //   e.preventDefault();\n  //   if (filter.trim() === '') {\n  //     return toast.info('Please select an movie');\n  //   }\n\n  //   console.log('нажал на кнопку')\n\n  // };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n      if (value === '') {\n        return alert(\n          'Sorry. but write someting. Ok! idiot.'\n        )\n      }\n\n      setSearchParams({ query:value})\n\n  };\n\n\n  useEffect(() => {\n     if (!query) {\n      return;\n    }\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=bfc78256055c27ed6be30c1c43cfe9c3&language=en-US&query=${query}&page=1&include_adult=false`\n    )\n    .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(new Error('Change your serch query'))\n      })\n      .then(movie => {\n        if (movie.results === 0) {\n          return alert(\n            'Something went wrong. Try changing your search query'\n          );\n        }\n        return setMovies([...movie.results]);\n      })\n    .catch(error => {\n        return alert(error.message);\n      });\n  }, [query])\n  \n  \n// useEffect(() => {\n//      if (!query) {\n//       return;\n//     }\n//     fetch(\n//       `https://api.themoviedb.org/3/search/movie?api_key=bfc78256055c27ed6be30c1c43cfe9c3&language=en-US&query=${query}&page=1&include_adult=false`\n//       )\n//       .then(info => {\n//         if (info.results === 0) {\n//           return alert (`Sorry dont find ${query}`)\n//         }\n//         setMovies(info.results)\n//       })\n\n//   .catch(error => console.log (error));\n   \n// },[query])\n\n  // const selectedMovie = e => {\n  //   const value = e.currentTarget.value;\n  //    setSearchParams(value !== '' ? { filter: value } : {});\n  //   console.log(value)\n  // };\n\n  const handleInputChange = e => {\n    setValue (e.target.value)\n  }\n\n  return (\n    <Container>\n      <form  onSubmit={onFormSubmit} >\n       <Input\n          value={value}\n          onChange={handleInputChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n\n        <button >Search</button>\n      </form>\n      <MovieList>\n        {movies.map(\n          ({ poster_path, id, title, name, release_date, first_air_date }) => {\n            const date = new Date(release_date).getFullYear();\n            const date2 = new Date(first_air_date).getFullYear();\n            return (\n              <MovieItem key={id}>\n                <MovieLink  to={`${id}`} state={{ from: location }}>\n                  <img\n                    src={\n                      poster_path\n                        ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n                        : 'https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie-1-3.jpg'\n                    }\n                    alt={title ?? name}\n                  ></img>\n                  <h4>\n                    {name ?? title} ({date || date2})\n                  </h4>\n                </MovieLink>\n              </MovieItem>\n            );\n          }\n        )}\n      </MovieList>\n       <Suspense><Outlet/></Suspense>\n    </Container>\n\n  )\n  \n}"],"names":["Input","styled","Movies","location","useLocation","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","value","setValue","query","useEffect","fetch","then","res","ok","json","Promise","reject","Error","movie","results","alert","catch","error","message","onSubmit","e","preventDefault","onChange","target","type","autoComplete","autoFocus","placeholder","map","poster_path","id","title","name","release_date","first_air_date","date","Date","getFullYear","date2","to","state","from","src","alt","Suspense"],"sourceRoot":""}